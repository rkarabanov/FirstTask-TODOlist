{"version":3,"sources":["../../../server/utils/UserDBUtils.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;wBAAqB,UAAU;;;;QAExB,gBAAgB;;AAEvB,IAAM,IAAI,GAAG,sBAAS,KAAK,CAAC,MAAM,CAAC,CAAC;;AAE7B,SAAS,eAAe,GAAE;AAC7B,0BAAS,OAAO,qDAAqD,CAAC;CAEzE;;AAEM,SAAS,UAAU,CAAC,IAAI,EAAE;AAC7B,QAAM,IAAI,GAAG,IAAI,IAAI,CAAC;AAClB,aAAK,EAAE,IAAI,CAAC,KAAK;AACjB,YAAI,EAAE,IAAI,CAAC,IAAI;AACf,YAAI,EAAC,MAAM;KACd,CAAC,CAAC;AACH,WAAO,IAAI,CAAC,IAAI,EAAE,CAAC;CACtB;;AAEM,SAAS,WAAW,CAAC,IAAI,EAAE,OAAO,EAAE;AACvC,QAAI,CAAC,IAAI,GAAC,OAAO,CAAC;AAClB,WAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;AAClB,QAAM,IAAI,GAAG,IAAI,IAAI,CACjB,IAAI,CACP,CAAC;AACF,WAAO,IAAI,CAAC,IAAI,EAAE,CAAC;CACtB;;AAEM,SAAS,YAAY,CAAC,IAAI,EAAE,OAAO,EAAE;AACxC,QAAI,CAAC,QAAQ,GAAC,OAAO,CAAC,QAAQ,CAAC;AAC/B,QAAI,CAAC,QAAQ,GAAC,OAAO,CAAC,QAAQ,CAAC;AAC/B,QAAI,CAAC,QAAQ,GAAC,OAAO,CAAC,QAAQ,CAAC;;AAE/B,QAAM,IAAI,GAAG,IAAI,IAAI,CACjB,IAAI,CACP,CAAC;AACF,WAAO,IAAI,CAAC,IAAI,EAAE,CAAC;CACtB;;AAEM,SAAS,YAAY,CAAC,IAAI,EAAE,QAAQ,EAAE;AACzC,QAAI,CAAC,KAAK,GAAC,QAAQ,CAAC;AACpB,WAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;AAClB,QAAM,IAAI,GAAG,IAAI,IAAI,CACjB,IAAI,CACP,CAAC;AACF,WAAO,IAAI,CAAC,IAAI,EAAE,CAAC;CACtB;;AAEM,SAAS,eAAe,CAAC,IAAI,EAAE;AAClC,WAAO,IAAI,CAAC,IAAI,CAAC;AACb,YAAI,EAAE,IAAI,CAAC,IAAI;AACf,WAAG,EAAC,IAAI,CAAC,GAAG;KACf,CAAC,CAAC;CACN;;AAEM,SAAS,IAAI,CAAC,IAAI,EAAE;AACvB,WAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;CAC1B;;AAEM,SAAS,kBAAkB,CAAC,IAAI,EAAE;AACrC,WAAO,IAAI,CAAC,IAAI,CAAC;AACb,aAAK,EAAE,IAAI,CAAC,KAAK;AACjB,YAAI,EAAE,IAAI,CAAC,IAAI;KAClB,CAAC,CAAC;CACN;;AAEM,SAAS,QAAQ,CAAC,IAAI,EAAE;AAC3B,WAAO,IAAI,CAAC,IAAI,CAAC;AACb,WAAG,EAAC,IAAI,CAAC,GAAG;KACf,CAAC,CAAC;CACN;;AAEM,SAAS,MAAM,GAAG;AACrB,WAAO,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;CACxB;;AAGM,SAAS,WAAW,CAAC,IAAI,EAAE;AAC9B,WAAO,IAAI,CAAC,IAAI,CAAC;AACb,aAAK,EAAE,IAAI,CAAC,KAAK;KACpB,CAAC,CAAC;CACN","file":"UserDBUtils.js","sourcesContent":["import mongoose from \"mongoose\";\r\n\r\nimport '../models/User';\r\n\r\nconst User = mongoose.model('User');\r\n\r\nexport function setUpConnection(){\r\n    mongoose.connect(`mongodb://test:test@ds157390.mlab.com:57390/newdb`);\r\n\r\n}\r\n\r\nexport function createUser(data) {\r\n    const user = new User({\r\n        email: data.email,\r\n        pass: data.pass,\r\n        role:\"user\"\r\n    });\r\n    return user.save();\r\n}\r\n\r\nexport function restorePass(data, newPass) {\r\n    data.pass=newPass;\r\n    console.log(data);\r\n    const user = new User(\r\n        data\r\n    );\r\n    return user.save();\r\n}\r\n\r\nexport function restoreImage(data, newData) {\r\n    data.data_uri=newData.data_uri;\r\n    data.filename=newData.filename;\r\n    data.filetype=newData.filetype;\r\n    // onCheck.log(data);\r\n    const user = new User(\r\n        data\r\n    );\r\n    return user.save();\r\n}\r\n\r\nexport function restoreEmail(data, newEmail) {\r\n    data.email=newEmail;\r\n    console.log(data);\r\n    const user = new User(\r\n        data\r\n    );\r\n    return user.save();\r\n}\r\n\r\nexport function findByIDAndPass(data) {\r\n    return User.find({\r\n        pass: data.pass,\r\n        _id:data._id\r\n    });\r\n}\r\n\r\nexport function find(data) {\r\n    return User.find(data);\r\n}\r\n\r\nexport function findByEmailAndPass(data) {\r\n    return User.find({\r\n        email: data.email,\r\n        pass: data.pass\r\n    });\r\n}\r\n\r\nexport function findByID(data) {\r\n    return User.find({\r\n        _id:data._id\r\n    });\r\n}\r\n\r\nexport function getAll() {\r\n    return User.find({});\r\n}\r\n\r\n\r\nexport function findByEmail(data) {\r\n    return User.find({\r\n        email: data.email\r\n    });\r\n}"]}